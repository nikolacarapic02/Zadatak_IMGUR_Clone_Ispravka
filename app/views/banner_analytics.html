{% extends 'layout/main.html' %}
{% block content%}
<div class="container-fluid">
    <div class="block-heading">
        <h1 class="heading">Banner Analytics</h1>
    </div>
    <div class="container-tableBanner table-responsive"> 
        <div class="wrap-tableBanner">
            <div class="table100 m-b-110">
                <div class="tableBanner-head">
                    <table>
                        <thead>
                            <tr class="row100 head">
                                <th class="column-banner-1">Banner ID</th>
                                <th class="column-banner-1">Total Views</th>
                                <th class="column-banner-1">Total Clicks</th>
                                <th class="column-banner-1">Header Views</th>
                                <th class="column-banner-1">Header Clicks</th>
                                <th class="column-banner-1">Footer Views</th>
                                <th class="column-banner-1">Footer Clicks</th>
                                <th class="column-banner-1">Left Views</th>
                                <th class="column-banner-1">Left Clicks</th>
                                <th class="column-banner-1">Right Views</th>
                                <th class="column-banner-1">Right Clicks</th>
                                <th class="column-banner-1">In-Content Views</th>
                                <th class="column-banner-1">In-Content Clicks</th>
                                <th class="column-banner-2">Date</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="table100-body js-pscroll">
                    <table>
                        <tbody>
                            {% if banners is empty %}
                                <tr class="row100 body">
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-1">empty</td>
                                    <td class="column-banner-2">empty</td>
                                </tr>
                            {% else %}
                                {% for banner in banners %}
                                <tr class="row100 body">
                                    <td class="column-banner-1">{{ banner.banner_id }}</td>
                                    <td class="column-banner-1">{{ banner.total_views }}</td>
                                    <td class="column-banner-1">{{ banner.total_clicks }}</td>
                                    <td class="column-banner-1">{{ banner.header_views }}</td>
                                    <td class="column-banner-1">{{ banner.header_clicks }}</td>
                                    <td class="column-banner-1">{{ banner.footer_views }}</td>
                                    <td class="column-banner-1">{{ banner.footer_clicks }}</td>
                                    <td class="column-banner-1">{{ banner.left_views }}</td>
                                    <td class="column-banner-1">{{ banner.left_clicks }}</td>
                                    <td class="column-banner-1">{{ banner.right_views }}</td>
                                    <td class="column-banner-1">{{ banner.right_clicks }}</td>
                                    <td class="column-banner-1">{{ banner.in_content_views }}</td>
                                    <td class="column-banner-1">{{ banner.in_content_clicks }}</td>
                                    <td class="column-banner-2">{{ banner.date }}</td>
                                </tr>
                                {% endfor %}
                            {% endif %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="row tm-mb-90">
        {% if pageNum > 1%}
            {% set pageNum = pageNum - 1 %}
        {% endif %}
        {% if numOfPages <= 4 %}
        <div class="col-12 d-flex justify-content-center align-items-center tm-paging-col">
            <div class="tm-paging d-flex">
                {% set pageNum = 1 %}
                <a href="/banner_analytics?page=1" class="btn {% if pageNum == page %} active {% endif %} {% if pageNum > numOfPages %} disabled {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = pageNum + 1 %}
                <a href="/banner_analytics?page=2" class="btn {% if pageNum == page %} active {% endif %} {% if pageNum > numOfPages %} disabled {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = pageNum + 1 %}
                <a href="/banner_analytics?page=3" class="btn {% if pageNum == page %} active {% endif %} {% if pageNum > numOfPages %} disabled {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = pageNum + 1 %}
                <a href="/banner_analytics?page=4" class="btn {% if pageNum == page %} active {% endif %} {% if pageNum > numOfPages %} disabled {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = pageNum + 1 %}
            </div>
        </div>
        {% elseif numOfPages - page > 2 %}
        <div class="col-12 d-flex justify-content-center align-items-center tm-paging-col">
            <div class="tm-paging d-flex">
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = pageNum + 1 %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = pageNum + 1 %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a></a>
                {% set pageNum = pageNum + 1 %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a></a>
                {% set pageNum = pageNum + 1 %}
            </div>
        </div>   
        {% elseif numOfPages - page <= 2 %}
        <div class="col-12 d-flex justify-content-center align-items-center tm-paging-col">
            <div class="tm-paging d-flex">
                {% set pageNum = numOfPages - 3 %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = numOfPages - 2 %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = numOfPages - 1 %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a>
                {% set pageNum = numOfPages %}
                <a href="/banner_analytics?page={{ pageNum }}" class="{% if pageNum == page %} active {% endif %} tm-paging-link">{{ pageNum }}</a>
            </div>
        </div>
        {% endif %}      
    </div>
</div>
{% endblock %}